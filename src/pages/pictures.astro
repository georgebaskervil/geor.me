---
import { getImageCount } from '../scripts/getImageCount';
import Tags from "../components/tags.astro";
import PictureSect from "../components/eagerpicturesect.astro";
import Layout from "../components/Layout.astro";

const totalImages = getImageCount();
const imagesPerSection = Math.floor(totalImages / 4);
const sections = Array.from({length: 4}, (_, i) => i * imagesPerSection);
---
<Tags />
<style>
  .background-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to left,#110819, #000);
    z-index: -1;
  }
</style>
<div class="background-animation"></div>
<Layout>
  <h1 class="text-4xl font-bold mb-1 text-text">Latest Pictures:</h1>
  <p class="bottom-0 text-left text-white text-sm mt-0 mb-3" style="opacity:0.4; font-style: italic; font-family: monospace;">
// Images licensed under CC0 1.0 Universal. Download them on the <a href="https://github.com/georgebaskervil/Personal-Website/tree/main/public/image-assets" class="hover:underline" target="_blank">GitHub repo</a>
</p>
  {sections.map((start, index) => (
    <>
      <PictureSect start={start} end={start + imagesPerSection} key={index} />
      {index !== sections.length - 1 && <div style="padding-bottom: 20px;"></div>}
    </>
  ))}
</Layout>